extends ../layout

block content
  link(rel="stylesheet" href="./css/picture.css")
  .container-fluid
    .row
      .col-lg-12
        .card
          header.card-header
            .card-title= title
          .card-body
            .gallery-grid
              a.gallery-item(href="#!")
                img(data-src="./images/genshin/1.0.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.0.1.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.0.2.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.0.3.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.0.4.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.1.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.1.2.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.3.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.3.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.4.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.5.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.5.1.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/1.6.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/2.0.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/2.1.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/2.2.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/2.3.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/2.4.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/2.5.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/2.6.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/2.7.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/2.8.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/3.0.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/3.1.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/3.2.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/3.3.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/3.4.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/3.5.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/3.6.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/3.7.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/3.8.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/4.0.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/4.1.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/4.2.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/4.3.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/4.4.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/4.5.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/4.6.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/4.7.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/4.8.jpg" src="./images/load.gif" alt="...")
              a.gallery-item(href="#!")
                img(data-src="./images/5.0.jpg" src="./images/load.gif" alt="...")





  script(type="text/javascript" src="js/jquery.min.js")
  script(type="text/javascript" src="js/popper.min.js")
  script(type="text/javascript" src="js/bootstrap.min.js")
  script(type="text/javascript" src="js/main.min.js")
  script. 
    $(function() {
      $(".gallery-grid").empty();
      const pictures = [!{pictures}]
      for (let i = 0; i < pictures.length; i++) {
        $(".gallery-grid").append("<a class='gallery-item' href='#!'><img data-src='"+pictures[i]+"' src='./images/load.gif' alt='...'></a>");
      }
      var images = $("img");
      function callback(entries) {
        for (let i of entries) {
          if (i.isIntersecting) {
            let img = i.target;
            let trueSrc = img.getAttribute("data-src");
            img.setAttribute("src", trueSrc);
            observer.unobserve(img);
            img.classList.add("img-blur");
            img.onload = function() {
              setTimeout(function(){
                img.classList.remove("img-blur");
                img.classList.add("img-unblur");
              },500)
            }
          }
        } 
      }
      const observer = new IntersectionObserver(callback);
      for (let i of images) {
        observer.observe(i);
      }
    });
